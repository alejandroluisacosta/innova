<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css" />
    <title>Innova</title>
</head>
<body>
    <nav class="nav">
        <img class="company-name" src="./assets/CompanyName.png" alt="Company's name"/>
        <ul class="nav__links">
            <li>PROYECTOS</li>
            <li>SERVICIOS</li>
            <li>NOSOTROS</li>
            <li>CONTACTO</li>
        </ul>
    </nav>
    <div class="hero">
        <h2 class="hero__title">EXPERTOS EN</h2>
        <div class="hero__main">
            <div class="swiper hero-swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide" data-text="PROYECTOS DE & INGENIERIA Y & CONSTRUCCION">
                        <img class="hero__image" src="./assets/image1.png" alt="Constructores en obra" />
                    </div>
                    <div class="swiper-slide" data-text="PROCURA DE & MATERIALES">
                        <img class="hero__image" src="./assets/image1.png" alt="Constructores en obra" />
                    </div>
                    <div class="swiper-slide" data-text="PETROLEO">
                        <img class="hero__image" src="./assets/image1.png" alt="Constructores en obra" />
                    </div>
                </div>
                
                <img class="swiper-button-prev" src="./assets/HeroSwiperArrowLeft.svg" alt="Botón 'anterior' carrusel de imágenes principal"/>
                <img class="swiper-button-next" src="./assets/HeroSwiperArrowRight.svg" alt="Botón 'siguiente' carrusel de imágenes principal"/>
                
                <div class="swiper-scrollbar"></div>
            </div>
            <div class="description">
                <h1 class="description__title"><span id="animated-text"></span></h1>
                <button class="description__button">
                    CONTACTO
                    <img class="arrow" src="./assets/Arrow1.svg" alt="Arrow icon" />
                </button>
            </div>
        </div>
        <div class="hero__facts">
            <div class="fact">
                <p class="fact__number">+9</p>
                <p class="fact__text">Años de experiencia</p>
            </div>
            <div class="fact">
                <p class="fact__number">72</p>
                <p class="fact__text">Proyectos realizados</p>
            </div>
            <div class="fact">
                <p class="fact__number">100%</p>
                <p class="fact__text">Clientes satisfechos</p>
            </div>
        </div>
        <div class="hero__learn-more">
            <div class="relative-container">
                <img class="text" src="./assets/DescubreMasText.svg" alt="Texto decorativo" />
                <img class="arrow" src="./assets/DescubreMasArrow.svg" alt="Elemento decorativo" />
            </div>
        </div>
    </div>
    <div class="services">
        <div class="swiper services-swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide services-slide services-slide--construction">
                    <h3 class="services__title">Servicios</h3>
                    <h1 class="services__service-name">CONSTRUCCION</h1>
                    <p class="services__service-description">Diseño y ejecución de obras civiles, eléctricas e hidráulicas.<br>Supervisión, gerencia y mantenimiento industrial.<br>Proyectos urbanísticos y ambientales.</p>
                    <button class="services__button">
                        Más información
                        <img class="arrow" src="./assets/ButtonArrowBlack.svg" alt="Arrow icon" />
                    </button>
                </div>
                <div class="swiper-slide services-slide services-slide--procurement">
                    <h3 class="services__title">Servicios</h3>
                    <h1 class="services__service-name">PROCURA Y SUMINISTROS</h1>
                    <p class="services__service-description">Diseño y ejecución de obras civiles, eléctricas e hidráulicas.<br>Supervisión, gerencia y mantenimiento industrial.<br>Proyectos urbanísticos y ambientales.</p>
                    <button class="services__button">
                        Más información
                        <img class="arrow" src="./assets/ButtonArrowBlack.svg" alt="Arrow icon" />
                    </button>
                </div>
            </div>
            
            <img class="swiper-button-prev" src="./assets/HeroSwiperArrowLeft.svg" alt="Botón 'anterior' carrusel de imágenes principal"/>
            <img class="swiper-button-next" src="./assets/HeroSwiperArrowRight.svg" alt="Botón 'siguiente' carrusel de imágenes principal"/>
            
            <div class="swiper-scrollbar"></div>
        </div>
    </div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@latest/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@latest/swiper-bundle.min.js"></script>
    <script type="module">
        import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs'
      
        const servicesSwiper = new Swiper('.services-swiper', {
            loop: true,
            slidesPerView: 'auto',
            effect: "fade",

            pagination: {
                el: '.swiper-pagination',
            },

            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },

            scrollbar: {
                el: '.swiper-scrollbar',
            },
            });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const textElement = document.getElementById("animated-text");
            const heroSwiper = new Swiper(".hero-swiper", {
                loop: true,
                slidesPerView: 'auto',
                navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
                },
                scrollbar: {
                    el: '.swiper-scrollbar',
                },
            });
        
            function updateText() {
                textElement.style.opacity = 0;
                setTimeout(() => {
                    const activeSlide = document.querySelector(".swiper-slide-active");
                    const text = activeSlide.dataset.text || ""; // Default to empty if no text
                    textElement.innerHTML = text.replace(/&/g, "<br>");
                    textElement.style.opacity = 1;
                }, 500);
            }

            heroSwiper.on("slideChangeTransitionEnd", updateText);

            updateText();
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const numbers = document.querySelectorAll('.fact__number');
            
            // Function to animate numbers
            const animateNumber = (element, target, speed) => {
                const symbol = element.textContent.replace(/[0-9]/g, '');
                let current = 0;
                const increment = target / (speed); // Adjust the speed to target ratio

                const interval = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        element.textContent = `${target}${symbol}`; // Ensure it stops at the target value
                        clearInterval(interval);
                    } else {
                        element.textContent = `${Math.round(current)}${symbol}`;
                    }
                }, 10);
            };

            // Set different speeds for each number
            animateNumber(numbers[0], 9, 200); // Slower increment for the first number
            animateNumber(numbers[1], 72, 200); // Standard speed for the second number
            animateNumber(numbers[2], 100, 200); // Same speed for the third number
        });
    </script>
    <script>
document.addEventListener("DOMContentLoaded", () => {
    const navbar = document.querySelector(".nav");
    let lastScrollY = window.scrollY; // Keep track of last scroll position

    // Function to handle scroll event
    const handleScroll = () => {
        if (window.scrollY > 50) { // Apply frosted effect when scroll > 50px
            navbar.classList.add("scrolled");
        } else {
            navbar.classList.remove("scrolled");
        }

        // Check scroll direction (down or up)
        if (window.scrollY > lastScrollY) { 
            // Scrolling down: hide navbar
            navbar.classList.add("hidden");
        } else {
            // Scrolling up: show navbar
            navbar.classList.remove("hidden");
        }

        // Update the last scroll position
        lastScrollY = window.scrollY;
    };

    // Listen for scroll events
    window.addEventListener("scroll", handleScroll);

    // Call it once to apply the styles on page load (in case the page is already scrolled)
    handleScroll();
});

    </script>
</body>
</html>